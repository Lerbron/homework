<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <script src="./getGrayImg.js"></script>
</head>

<body>
  <input id='ipt' type='file' accept="image/*" />
  <div>
    <img id="img1" />
    <img id="img2" />

  </div>
  <script>
    let oIpt = document.getElementById('ipt'),
      oImg1= document.getElementById('img1'),
      oImg2= document.getElementById('img2')

    oIpt.addEventListener('change', e => {
      let file = e.target.files[0]

      const reader = new FileReader(file)
      reader.onload = function (evt) {
        console.log(evt.target.result);
        oImg1.src=evt.target.result
        getGrayImage(evt.target.result)
        .then(imgUrl => {
          img2.src= imgUrl
        })
      };
      reader.readAsDataURL(file);

    })
  </script>
</body>

</html>